jQuery(document).ready(function(c){var a=function(){if(window.Stripe){clearInterval(d),b}},d=setInterval(a,100);var b=function(){Stripe.setPublishableKey('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq($GLOBALS["WS_PLUGIN__"]["s2member"]["o"]["pro_stripe_api_publishable_key"]); ?>');var i,t,m,p,s,L,A,z={"aria-required":"true"},f={"aria-required":"false"},C={disabled:"disabled"},k={"aria-required":"false",disabled:"disabled"};var M,u,E,w,l,F,K,v=true,J,r,j,D,g,B,e,G,H,P,N,Q,x,o,I,O,q,h,y,n;A=new Image(),A.src='<?php echo $vars["i"]; ?>/ajax-loader.gif';if(c("form.s2member-pro-stripe-registration-form").length>1||c("form.s2member-pro-stripe-checkout-form").length>1||c("form.s2member-pro-stripe-sp-checkout-form").length>1){return alert("Detected more than one s2Member Pro Form.\n\nPlease use only ONE s2Member Pro Form Shortcode on each Post/Page. Attempting to serve more than one Pro Form on each Post/Page (even w/ DHTML) may result in unexpected/broken functionality.")}if((i=c("form#s2member-pro-stripe-cancellation-form")).length===1){O="div#s2member-pro-stripe-cancellation-form-captcha-section",q="div#s2member-pro-stripe-cancellation-form-submission-section",y=c(q+" button#s2member-pro-stripe-cancellation-submit");ws_plugin__s2member_animateProcessing(y,"reset"),y.removeAttr("disabled");i.submit(function(){var U=this,S="",R="",V="",T=c(O+" input#recaptcha_response_field");c(":input",U).each(function(){var W=c.trim(c(this).attr("id")).replace(/---[0-9]+$/g,"");if(W&&(S=c.trim(c('label[for="'+W+'"]',U).first().children("span").first().text().replace(/[\r\n\t]+/g," ")))){if(R=ws_plugin__s2member_validationErrors(S,this,U)){V+=R+"\n\n"}}});if(V=c.trim(V)){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n'+V);return false}else{if(T.length&&!T.val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Security Code missing. Please try again.", "s2member-front", "s2member")); ?>');return false}}y.attr(C),ws_plugin__s2member_animateProcessing(y);return true})}else{if((t=c("form#s2member-pro-stripe-update-form")).length===1){x="div#s2member-pro-stripe-update-form-billing-method-section",o=x+' input[name="'+ws_plugin__s2member_escjQAttr("s2member_pro_stripe_update[card_type]")+'"]',I="div#s2member-pro-stripe-update-form-billing-address-section",O="div#s2member-pro-stripe-update-form-captcha-section",q="div#s2member-pro-stripe-update-form-submission-section",y=c(q+" button#s2member-pro-stripe-update-submit");ws_plugin__s2member_animateProcessing(y,"reset"),y.removeAttr("disabled");(w=function(R){var S=c(o+":checked").val();if(c.inArray(S,["Visa","MasterCard","Amex","Discover"])!==-1){c(x+" > div.s2member-pro-stripe-update-form-div").show();c(x+" > div.s2member-pro-stripe-update-form-div :input").attr(z);c(x+" > div#s2member-pro-stripe-update-form-card-start-date-issue-number-div").hide();c(x+" > div#s2member-pro-stripe-update-form-card-start-date-issue-number-div :input").attr(f);c(I+" > div.s2member-pro-stripe-update-form-div").show();c(I+" > div.s2member-pro-stripe-update-form-div :input").attr(z);c(I).show(),(R)?c(x+" input#s2member-pro-stripe-update-card-number").focus():null}else{if(c.inArray(S,["Maestro","Solo"])!==-1){c(x+" > div.s2member-pro-stripe-update-form-div").show();c(x+" > div.s2member-pro-stripe-update-form-div :input").attr(z);c(I+" > div.s2member-pro-stripe-update-form-div").show();c(I+" > div.s2member-pro-stripe-update-form-div :input").attr(z);c(I).show(),(R)?c(x+" input#s2member-pro-stripe-update-card-number").focus():null}else{if(!S){c(x+" > div.s2member-pro-stripe-update-form-div").hide();c(x+" > div.s2member-pro-stripe-update-form-div :input").attr(f);c(x+" > div#s2member-pro-stripe-update-form-card-type-div").show();c(x+" > div#s2member-pro-stripe-update-form-card-type-div :input").attr(z);c(I+" > div.s2member-pro-stripe-update-form-div").hide();c(I+" > div.s2member-pro-stripe-update-form-div :input").attr(f);c(I).hide(),(R)?c(q+" button#s2member-pro-stripe-update-submit").focus():null}}}})();c(o).click(w).change(w);t.submit(function(){var U=this,S="",R="",V="",T=c(O+" input#recaptcha_response_field");if(!c(o+":checked").val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Please choose a Billing Method.", "s2member-front", "s2member")); ?>');return false}c(":input",U).each(function(){var W=c.trim(c(this).attr("id")).replace(/---[0-9]+$/g,"");if(W&&(S=c.trim(c('label[for="'+W.replace(/-(month|year)/,"")+'"]',U).first().children("span").first().text().replace(/[\r\n\t]+/g," ")))){if(R=ws_plugin__s2member_validationErrors(S,this,U)){V+=R+"\n\n"}}});if(V=c.trim(V)){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n'+V);return false}else{if(T.length&&!T.val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Security Code missing. Please try again.", "s2member-front", "s2member")); ?>');return false}}y.attr(C),ws_plugin__s2member_animateProcessing(y);return true})}else{if((m=c("form#s2member-pro-stripe-registration-form")).length===1){N="div#s2member-pro-stripe-registration-form-registration-section",O="div#s2member-pro-stripe-registration-form-captcha-section",q="div#s2member-pro-stripe-registration-form-submission-section",y=c(q+" button#s2member-pro-stripe-registration-submit");ws_plugin__s2member_animateProcessing(y,"reset"),y.removeAttr("disabled");(M=function(R){if(c(q+" input#s2member-pro-stripe-registration-names-not-required-or-not-possible").length){c(N+" > div#s2member-pro-stripe-registration-form-first-name-div").hide();c(N+" > div#s2member-pro-stripe-registration-form-first-name-div :input").attr(k);c(N+" > div#s2member-pro-stripe-registration-form-last-name-div").hide();c(N+" > div#s2member-pro-stripe-registration-form-last-name-div :input").attr(k)}})();(u=function(R){if(c(q+" input#s2member-pro-stripe-registration-password-not-required-or-not-possible").length){c(N+" > div#s2member-pro-stripe-registration-form-password-div").hide();c(N+" > div#s2member-pro-stripe-registration-form-password-div :input").attr(k)}})();c(N+" > div#s2member-pro-stripe-registration-form-password-div :input").keyup(function(){ws_plugin__s2member_passwordStrength(c(N+" input#s2member-pro-stripe-registration-username"),c(N+" input#s2member-pro-stripe-registration-password1"),c(N+" input#s2member-pro-stripe-registration-password2"),c(N+" div#s2member-pro-stripe-registration-form-password-strength"))});m.submit(function(){var U=this,S="",R="",X="",T=c(O+" input#recaptcha_response_field"),W=c(N+' input#s2member-pro-stripe-registration-password1[aria-required="true"]'),V=c(N+" input#s2member-pro-stripe-registration-password2");c(":input",U).each(function(){var Y=c.trim(c(this).attr("id")).replace(/---[0-9]+$/g,"");if(Y&&(S=c.trim(c('label[for="'+Y+'"]',U).first().children("span").first().text().replace(/[\r\n\t]+/g," ")))){if(R=ws_plugin__s2member_validationErrors(S,this,U)){X+=R+"\n\n"}}});if(X=c.trim(X)){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n'+X);return false}else{if(W.length&&c.trim(W.val())!==c.trim(V.val())){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Passwords do not match up. Please try again.", "s2member-front", "s2member")); ?>');return false}else{if(W.length&&c.trim(W.val()).length<6){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Password MUST be at least 6 characters. Please try again.", "s2member-front", "s2member")); ?>');return false}else{if(T.length&&!T.val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Security Code missing. Please try again.", "s2member-front", "s2member")); ?>');return false}}}}y.attr(C),ws_plugin__s2member_animateProcessing(y);return true})}else{if((p=c("form#s2member-pro-stripe-sp-checkout-form")).length===1){e="div#s2member-pro-stripe-sp-checkout-form-options-section",G="div#s2member-pro-stripe-sp-checkout-form-description-section",H="div#s2member-pro-stripe-sp-checkout-form-coupon-section",P=H+" input#s2member-pro-stripe-sp-checkout-coupon-apply",N="div#s2member-pro-stripe-sp-checkout-form-registration-section",x="div#s2member-pro-stripe-sp-checkout-form-billing-method-section",o=x+' input[name="'+ws_plugin__s2member_escjQAttr("s2member_pro_stripe_sp_checkout[card_type]")+'"]',I="div#s2member-pro-stripe-sp-checkout-form-billing-address-section",B=c(I+" > div#s2member-pro-stripe-sp-checkout-form-ajax-tax-div"),O="div#s2member-pro-stripe-sp-checkout-form-captcha-section",q="div#s2member-pro-stripe-sp-checkout-form-submission-section",n=q+" input#s2member-pro-stripe-sp-checkout-nonce",h=q+" button#s2member-pro-stripe-sp-checkout-submit";ws_plugin__s2member_animateProcessing(c(h),"reset"),c(h).removeAttr("disabled"),c(P).removeAttr("disabled");(l=function(R){if(!c(e+" select#s2member-pro-stripe-sp-checkout-options option").length){c(e).hide();c(G).show()}else{c(e).show();c(G).hide();c(e+" select#s2member-pro-stripe-sp-checkout-options").change(function(){c(n).val("option");p.attr("action",p.attr("action").replace(/#.*$/,"")+"#s2p-form");p.submit()})}})();(F=function(R){if(c(q+" input#s2member-pro-stripe-sp-checkout-coupons-not-required-or-not-possible").length){c(H).hide()}else{c(H).show()}})();(K=function(R){if(c(q+" input#s2member-pro-stripe-sp-checkout-tax-not-required-or-not-possible").length){B.hide(),v=false}})();(J=function(S){if(v&&!(S&&S.interval&&document.activeElement.id==="s2member-pro-stripe-sp-checkout-country")){var R=c(q+" input#s2member-pro-stripe-sp-checkout-attr").val(),V=c.trim(c(I+" input#s2member-pro-stripe-sp-checkout-state").val()),W=c(I+" select#s2member-pro-stripe-sp-checkout-country").val(),U=c.trim(c(I+" input#s2member-pro-stripe-sp-checkout-zip").val()),T=V+"|"+W+"|"+U;if(V&&W&&U&&T&&(!g||g!==T)&&(g=T)){(D)?D.abort():null,clearTimeout(j),j=0;B.html('<div><img src="'+ws_plugin__s2member_escAttr(A.src)+'" alt="<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(esc_attr(_x("Calculating Sales Tax...", "s2member-front", "s2member"))); ?>" /> <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("calculating sales tax...", "s2member-front", "s2member")); ?></div>');j=setTimeout(function(){D=c.post('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(admin_url("/admin-ajax.php")); ?>',{action:"ws_plugin__s2member_pro_stripe_ajax_tax",ws_plugin__s2member_pro_stripe_ajax_tax:'<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(c_ws_plugin__s2member_utils_encryption::encrypt("ws-plugin--s2member-pro-stripe-ajax-tax")); ?>',"ws_plugin__s2member_pro_stripe_ajax_tax_vars[attr]":R,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[state]":V,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[country]":W,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[zip]":U},function(X){clearTimeout(j),j=0;try{B.html("<div>"+c.sprintf('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("<strong>Sales Tax%s:</strong> %s<br /><strong>— Total%s:</strong> %s", "s2member-front", "s2member")); ?>',((X.trial)?' <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Today", "s2member-front", "s2member")); ?>':""),((X.tax_per)?"<em>"+X.tax_per+"</em> ( "+X.cur_symbol+""+X.tax+" )":X.cur_symbol+""+X.tax),((X.trial)?' <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Today", "s2member-front", "s2member")); ?>':""),X.cur_symbol+""+X.total)+"</div>")}catch(Y){console.log(Y)}},"json")},((S&&S.keyCode)?1000:100))}else{if(!V||!W||!U||!T){B.html(""),g=null}}}})();r=function(R){setTimeout(function(){J(R)},10)};c(I+" input#s2member-pro-stripe-sp-checkout-state").bind("keyup blur",J).bind("cut paste",r);c(I+" input#s2member-pro-stripe-sp-checkout-zip").bind("keyup blur",J).bind("cut paste",r);c(I+" select#s2member-pro-stripe-sp-checkout-country").bind("change",J);setInterval(function(){J({interval:true})},1000);(E=function(R){if(S2MEMBER_CURRENT_USER_IS_LOGGED_IN){c(N+" input#s2member-pro-stripe-sp-checkout-first-name").each(function(){var S=c(this),T=S.val();(!T)?S.val(S2MEMBER_CURRENT_USER_FIRST_NAME):null});c(N+" input#s2member-pro-stripe-sp-checkout-last-name").each(function(){var S=c(this),T=S.val();(!T)?S.val(S2MEMBER_CURRENT_USER_LAST_NAME):null});c(N+" input#s2member-pro-stripe-sp-checkout-email").each(function(){var S=c(this),T=S.val();(!T)?S.val(S2MEMBER_CURRENT_USER_EMAIL):null})}})();(w=function(R){if(c(q+" input#s2member-pro-stripe-sp-checkout-payment-not-required-or-not-possible").length){c(o).val(["Free"])}var S=c(o+":checked").val();if(c.inArray(S,["Free"])!==-1){c(x).hide(),c(I).hide();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div").hide();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(f);c(I+" > div.s2member-pro-stripe-sp-checkout-form-div").hide();c(I+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(f);(!v)?B.hide():null;(R)?c(q+" button#s2member-pro-stripe-sp-checkout-submit").focus():null}else{if(c.inArray(S,["Visa","MasterCard","Amex","Discover"])!==-1){c(x).show(),c(I).show();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div").show();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(z);c(x+" > div#s2member-pro-stripe-sp-checkout-form-card-start-date-issue-number-div").hide();c(x+" > div#s2member-pro-stripe-sp-checkout-form-card-start-date-issue-number-div :input").attr(f);c(I+" > div.s2member-pro-stripe-sp-checkout-form-div").show();c(I+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(z);(!v)?B.hide():null;(R)?c(x+" input#s2member-pro-stripe-sp-checkout-card-number").focus():null}else{if(c.inArray(S,["Maestro","Solo"])!==-1){c(x).show(),c(I).show();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div").show();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(z);c(I+" > div.s2member-pro-stripe-sp-checkout-form-div").show();c(I+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(z);(!v)?B.hide():null;(R)?c(x+" input#s2member-pro-stripe-sp-checkout-card-number").focus():null}else{if(!S){c(x).show(),c(I).hide();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div").hide();c(x+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(f);c(x+" > div#s2member-pro-stripe-sp-checkout-form-card-type-div").show();c(x+" > div#s2member-pro-stripe-sp-checkout-form-card-type-div :input").attr(z);c(I+" > div.s2member-pro-stripe-sp-checkout-form-div").hide();c(I+" > div.s2member-pro-stripe-sp-checkout-form-div :input").attr(f);(!v)?B.hide():null;(R)?c(q+" button#s2member-pro-stripe-sp-checkout-submit").focus():null}}}}K()})();c(o).click(w).change(w);c(P).click(function(){c(n).val("apply-coupon"),p.submit()});p.submit(function(){if(c.inArray(c(n).val(),["option","apply-coupon"])===-1){var U=this,S="",R="",V="",T=c(O+" input#recaptcha_response_field");if(!c(o+":checked").val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Please choose a Billing Method.", "s2member-front", "s2member")); ?>');return false}c(":input",U).each(function(){var W=c.trim(c(this).attr("id")).replace(/---[0-9]+$/g,"");if(W&&(S=c.trim(c('label[for="'+W.replace(/-(month|year)/,"")+'"]',U).first().children("span").first().text().replace(/[\r\n\t]+/g," ")))){if(R=ws_plugin__s2member_validationErrors(S,this,U)){V+=R+"\n\n"}}});if(V=c.trim(V)){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n'+V);return false}else{if(T.length&&!T.val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Security Code missing. Please try again.", "s2member-front", "s2member")); ?>');return false}}}c(h).attr(C),ws_plugin__s2member_animateProcessing(c(h)),c(P).attr(C);return true})}else{if((s=c("form#s2member-pro-stripe-checkout-form")).length===1){e="div#s2member-pro-stripe-checkout-form-options-section",G="div#s2member-pro-stripe-checkout-form-description-section",H="div#s2member-pro-stripe-checkout-form-coupon-section",P=H+" input#s2member-pro-stripe-checkout-coupon-apply",N="div#s2member-pro-stripe-checkout-form-registration-section",Q="div#s2member-pro-stripe-checkout-form-custom-fields-section",x="div#s2member-pro-stripe-checkout-form-billing-method-section",o=x+' input[name="'+ws_plugin__s2member_escjQAttr("s2member_pro_stripe_checkout[card_type]")+'"]',I="div#s2member-pro-stripe-checkout-form-billing-address-section",B=c(I+" > div#s2member-pro-stripe-checkout-form-ajax-tax-div"),O="div#s2member-pro-stripe-checkout-form-captcha-section",q="div#s2member-pro-stripe-checkout-form-submission-section",n=q+" input#s2member-pro-stripe-checkout-nonce",h=q+" button#s2member-pro-stripe-checkout-submit";ws_plugin__s2member_animateProcessing(c(h),"reset"),c(h).removeAttr("disabled"),c(P).removeAttr("disabled");(l=function(R){if(!c(e+" select#s2member-pro-stripe-checkout-options option").length){c(e).hide();c(G).show()}else{c(e).show();c(G).hide();c(e+" select#s2member-pro-stripe-checkout-options").change(function(){c(n).val("option");s.attr("action",s.attr("action").replace(/#.*$/,"")+"#s2p-form");s.submit()})}})();(F=function(R){if(c(q+" input#s2member-pro-stripe-checkout-coupons-not-required-or-not-possible").length){c(H).hide()}else{c(H).show()}})();(K=function(R){if(c(q+" input#s2member-pro-stripe-checkout-tax-not-required-or-not-possible").length){B.hide(),v=false}})();(J=function(S){if(v&&!(S&&S.interval&&document.activeElement.id==="s2member-pro-stripe-checkout-country")){var R=c(q+" input#s2member-pro-stripe-checkout-attr").val();var V=c.trim(c(I+" input#s2member-pro-stripe-checkout-state").val());var W=c(I+" select#s2member-pro-stripe-checkout-country").val();var U=c.trim(c(I+" input#s2member-pro-stripe-checkout-zip").val());var T=V+"|"+W+"|"+U;if(V&&W&&U&&T&&(!g||g!==T)&&(g=T)){(D)?D.abort():null,clearTimeout(j),j=0;B.html('<div><img src="'+ws_plugin__s2member_escAttr(A.src)+'" alt="<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(esc_attr(_x("Calculating Sales Tax...", "s2member-front", "s2member"))); ?>" /> <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("calculating sales tax...", "s2member-front", "s2member")); ?></div>');j=setTimeout(function(){D=c.post('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(admin_url("/admin-ajax.php")); ?>',{action:"ws_plugin__s2member_pro_stripe_ajax_tax",ws_plugin__s2member_pro_stripe_ajax_tax:'<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(c_ws_plugin__s2member_utils_encryption::encrypt("ws-plugin--s2member-pro-stripe-ajax-tax")); ?>',"ws_plugin__s2member_pro_stripe_ajax_tax_vars[attr]":R,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[state]":V,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[country]":W,"ws_plugin__s2member_pro_stripe_ajax_tax_vars[zip]":U},function(X,Z){clearTimeout(j),j=0;try{B.html("<div>"+c.sprintf('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("<strong>Sales Tax%s:</strong> %s<br /><strong>— Total%s:</strong> %s", "s2member-front", "s2member")); ?>',((X.trial)?' <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Today", "s2member-front", "s2member")); ?>':""),((X.tax_per)?"<em>"+X.tax_per+"</em> ( "+X.cur_symbol+""+X.tax+" )":X.cur_symbol+""+X.tax),((X.trial)?' <?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Today", "s2member-front", "s2member")); ?>':""),X.cur_symbol+""+X.total)+"</div>")}catch(Y){console.log(Y)}},"json")},((S&&S.keyCode)?1000:100))}else{if(!V||!W||!U||!T){B.html(""),g=null}}}})();r=function(R){setTimeout(function(){J(R)},10)};c(I+" input#s2member-pro-stripe-checkout-state").bind("keyup blur",J).bind("cut paste",r);c(I+" input#s2member-pro-stripe-checkout-zip").bind("keyup blur",J).bind("cut paste",r);c(I+" select#s2member-pro-stripe-checkout-country").bind("change",J);setInterval(function(){J({interval:true})},1000);(u=function(R){if(c(q+" input#s2member-pro-stripe-checkout-password-not-required-or-not-possible").length){c(N+" > div#s2member-pro-stripe-checkout-form-password-div").hide();c(N+" > div#s2member-pro-stripe-checkout-form-password-div :input").attr(k)}})();(E=function(R){if(S2MEMBER_CURRENT_USER_IS_LOGGED_IN){c(N+" input#s2member-pro-stripe-checkout-first-name").each(function(){var S=c(this),T=S.val();(!T)?S.val(S2MEMBER_CURRENT_USER_FIRST_NAME):null});c(N+" input#s2member-pro-stripe-checkout-last-name").each(function(){var S=c(this),T=S.val();(!T)?S.val(S2MEMBER_CURRENT_USER_LAST_NAME):null});c(N+" input#s2member-pro-stripe-checkout-email").val(S2MEMBER_CURRENT_USER_EMAIL).attr(k);c(N+" input#s2member-pro-stripe-checkout-username").val(S2MEMBER_CURRENT_USER_LOGIN).attr(k);c(N+" > div#s2member-pro-stripe-checkout-form-password-div").hide();c(N+" > div#s2member-pro-stripe-checkout-form-password-div :input").attr(k);if(c.trim(c(N+" > div#s2member-pro-stripe-checkout-form-registration-section-title").html())==='<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Create Profile", "s2member-front", "s2member")); ?>'){c(N+" > div#s2member-pro-stripe-checkout-form-registration-section-title").html('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Your Profile", "s2member-front", "s2member")); ?>')}c(Q).hide(),c(Q+" :input").attr(k)}})();(w=function(R){if(c(q+" input#s2member-pro-stripe-checkout-payment-not-required-or-not-possible").length){c(o).val(["Free"])}var S=c(o+":checked").val();if(c.inArray(S,["Free"])!==-1){c(x).hide(),c(I).hide();c(x+" > div.s2member-pro-stripe-checkout-form-div").hide();c(x+" > div.s2member-pro-stripe-checkout-form-div :input").attr(f);c(I+" > div.s2member-pro-stripe-checkout-form-div").hide();c(I+" > div.s2member-pro-stripe-checkout-form-div :input").attr(f);(!v)?B.hide():null;(R)?c(q+" button#s2member-pro-stripe-checkout-submit").focus():null}else{if(c.inArray(S,["Visa","MasterCard","Amex","Discover"])!==-1){c(x).show(),c(I).show();c(x+" > div.s2member-pro-stripe-checkout-form-div").show();c(x+" > div.s2member-pro-stripe-checkout-form-div :input").attr(z);c(x+" > div#s2member-pro-stripe-checkout-form-card-start-date-issue-number-div").hide();c(x+" > div#s2member-pro-stripe-checkout-form-card-start-date-issue-number-div :input").attr(f);c(I+" > div.s2member-pro-stripe-checkout-form-div").show();c(I+" > div.s2member-pro-stripe-checkout-form-div :input").attr(z);(!v)?B.hide():null;(R)?c(x+" input#s2member-pro-stripe-checkout-card-number").focus():null}else{if(c.inArray(S,["Maestro","Solo"])!==-1){c(x).show(),c(I).show();c(x+" > div.s2member-pro-stripe-checkout-form-div").show();c(x+" > div.s2member-pro-stripe-checkout-form-div :input").attr(z);c(I+" > div.s2member-pro-stripe-checkout-form-div").show();c(I+" > div.s2member-pro-stripe-checkout-form-div :input").attr(z);(!v)?B.hide():null;(R)?c(x+" input#s2member-pro-stripe-checkout-card-number").focus():null}else{if(!S){c(x).show(),c(I).hide();c(x+" > div.s2member-pro-stripe-checkout-form-div").hide();c(x+" > div.s2member-pro-stripe-checkout-form-div :input").attr(f);c(x+" > div#s2member-pro-stripe-checkout-form-card-type-div").show();c(x+" > div#s2member-pro-stripe-checkout-form-card-type-div :input").attr(z);c(I+" > div.s2member-pro-stripe-checkout-form-div").hide();c(I+" > div.s2member-pro-stripe-checkout-form-div :input").attr(f);(!v)?B.hide():null;(R)?c(q+" button#s2member-pro-stripe-checkout-submit").focus():null}}}}})();c(o).click(w).change(w);c(P).click(function(){c(n).val("apply-coupon"),s.submit()});c(N+" > div#s2member-pro-stripe-checkout-form-password-div :input").keyup(function(){ws_plugin__s2member_passwordStrength(c(N+" input#s2member-pro-stripe-checkout-username"),c(N+" input#s2member-pro-stripe-checkout-password1"),c(N+" input#s2member-pro-stripe-checkout-password2"),c(N+" div#s2member-pro-stripe-checkout-form-password-strength"))});s.submit(function(){if(c.inArray(c(n).val(),["option","apply-coupon"])===-1){var U=this,S="",R="",X="",T=c(O+" input#recaptcha_response_field"),W=c(N+' input#s2member-pro-stripe-checkout-password1[aria-required="true"]'),V=c(N+" input#s2member-pro-stripe-checkout-password2");if(!c(o+":checked").val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Please choose a Billing Method.", "s2member-front", "s2member")); ?>');return false}c(":input",U).each(function(){var Y=c.trim(c(this).attr("id")).replace(/---[0-9]+$/g,"");if(Y&&(S=c.trim(c('label[for="'+Y.replace(/-(month|year)/,"")+'"]',U).first().children("span").first().text().replace(/[\r\n\t]+/g," ")))){if(R=ws_plugin__s2member_validationErrors(S,this,U)){X+=R+"\n\n"}}});if(X=c.trim(X)){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n'+X);return false}else{if(W.length&&c.trim(W.val())!==c.trim(V.val())){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Passwords do not match up. Please try again.", "s2member-front", "s2member")); ?>');return false}else{if(W.length&&c.trim(W.val()).length<6){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Password MUST be at least 6 characters. Please try again.", "s2member-front", "s2member")); ?>');return false}else{if(T.length&&!T.val()){alert('<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("— Oops, you missed something: —", "s2member-front", "s2member")); ?>\n\n<?php echo c_ws_plugin__s2member_utils_strings::esc_js_sq(_x("Security Code missing. Please try again.", "s2member-front", "s2member")); ?>');return false}}}}}c(h).attr(C),ws_plugin__s2member_animateProcessing(c(h)),c(P).attr(C);return true})}}}}}(L=function(){c("div#s2member-pro-stripe-form-response").each(function(){var R=c(this).offset();window.scrollTo(0,R.top-100)})})()}}),jQuery.ajax({cache:true,dataType:"script",url:"https://js.stripe.com/v2/"});